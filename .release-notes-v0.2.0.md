## ğŸ‰ v0.2.0 - Multi-Page PDF Processing Support

### âš ï¸ Breaking Changes

**PDF processing now handles all pages by default** instead of only the first page.

- **Previous behavior**: `parse("doc.pdf")` processed only page 1
- **New behavior**: `parse("doc.pdf")` processes all pages and concatenates results
- **Migration**: To maintain old behavior, use `parse("doc.pdf", pages=1)`
- **Cost impact**: Processing all pages will increase API usage and costs proportionally

### âœ¨ New Features

#### 1. Multi-Page PDF Processing with Flexible Page Selection
- `pages=None`: Process all pages (new default)
- `pages=1`: Process single page (old behavior)
- `pages=[1, 3, 5]`: Process specific pages
- `pages=list(range(1, 6))`: Process a range of pages

```python
# Process all pages (new default)
text = client.parse("document.pdf")

# Process only first page (backward compatible)
text = client.parse("document.pdf", pages=1)

# Process specific pages
text = client.parse("document.pdf", pages=[1, 3, 5])
```

#### 2. Per-Page Intelligent Fallback
- Each page evaluated independently
- Short output triggers automatic fallback to "grounding" mode
- Graceful error handling if fallback fails
- Only reprocesses pages that need it

#### 3. Concurrent Processing (Async Mode)
- Uses `asyncio.gather()` for concurrent page processing
- Significantly faster for multi-page documents
- Robust error handling with `return_exceptions=True`

#### 4. Configurable Page Separator
```bash
export DS_OCR_PAGE_SEPARATOR="\n\n---\n\n"  # Default value
```

### ğŸ› Bug Fixes

- Fixed PDF processing limitation to first page only

### ğŸ“ Documentation

- Added comprehensive multi-page PDF usage examples in README
- Created CHANGELOG.md documenting all changes
- Updated API documentation with breaking change warnings

### ğŸ§ª Testing

- Added 19 new unit and integration tests
- Total test coverage: 28 tests, all passing
- Tests cover edge cases: negative pages, zero, empty lists, out of range, etc.

### ğŸ“¦ Installation

```bash
# Using pip
pip install --upgrade deepseek-ocr

# Using uv (recommended)
uv add deepseek-ocr
```

### ğŸ”— Links

- **PyPI**: https://pypi.org/project/deepseek-ocr/0.2.0/
- **Documentation**: https://github.com/BukeLy/DeepSeek-OCR-SDK#readme
- **CHANGELOG**: https://github.com/BukeLy/DeepSeek-OCR-SDK/blob/main/CHANGELOG.md
- **Issue #1**: https://github.com/BukeLy/DeepSeek-OCR-SDK/issues/1
- **PR #3**: https://github.com/BukeLy/DeepSeek-OCR-SDK/pull/3

---

## ğŸ‰ v0.2.0 - å¤šé¡µ PDF å¤„ç†æ”¯æŒ

### âš ï¸ ç ´åæ€§å˜æ›´

**PDF å¤„ç†ç°åœ¨é»˜è®¤å¤„ç†æ‰€æœ‰é¡µé¢**,ä¸å†åªå¤„ç†ç¬¬ä¸€é¡µã€‚

- **æ—§è¡Œä¸º**: `parse("doc.pdf")` åªå¤„ç†ç¬¬1é¡µ
- **æ–°è¡Œä¸º**: `parse("doc.pdf")` å¤„ç†æ‰€æœ‰é¡µé¢å¹¶æ‹¼æ¥ç»“æœ
- **è¿ç§»æ–¹æ³•**: å¦‚éœ€ä¿æŒæ—§è¡Œä¸º,ä½¿ç”¨ `parse("doc.pdf", pages=1)`
- **æˆæœ¬å½±å“**: å¤„ç†å¤šä¸ªé¡µé¢å°†æŒ‰æ¯”ä¾‹å¢åŠ  API ä½¿ç”¨é‡å’Œè´¹ç”¨

### âœ¨ æ–°åŠŸèƒ½

#### 1. çµæ´»çš„å¤šé¡µ PDF å¤„ç†
- `pages=None`: å¤„ç†æ‰€æœ‰é¡µé¢(æ–°é»˜è®¤)
- `pages=1`: åªå¤„ç†å•é¡µ(æ—§è¡Œä¸º)
- `pages=[1, 3, 5]`: å¤„ç†ç‰¹å®šé¡µé¢
- `pages=list(range(1, 6))`: å¤„ç†é¡µé¢èŒƒå›´

```python
# å¤„ç†æ‰€æœ‰é¡µé¢(æ–°é»˜è®¤)
text = client.parse("document.pdf")

# åªå¤„ç†ç¬¬ä¸€é¡µ(å‘åå…¼å®¹)
text = client.parse("document.pdf", pages=1)

# å¤„ç†ç‰¹å®šé¡µé¢
text = client.parse("document.pdf", pages=[1, 3, 5])
```

#### 2. æ™ºèƒ½çš„é€é¡µå›é€€æœºåˆ¶
- æ¯ä¸ªé¡µé¢ç‹¬ç«‹è¯„ä¼°
- è¾“å‡ºè¿‡çŸ­æ—¶è‡ªåŠ¨å›é€€åˆ° "grounding" æ¨¡å¼
- å›é€€å¤±è´¥æ—¶ä¼˜é›…å¤„ç†
- åªé‡æ–°å¤„ç†éœ€è¦çš„é¡µé¢

#### 3. å¹¶å‘å¤„ç†(å¼‚æ­¥æ¨¡å¼)
- ä½¿ç”¨ `asyncio.gather()` å¹¶å‘å¤„ç†é¡µé¢
- å¤šé¡µæ–‡æ¡£å¤„ç†é€Ÿåº¦æ˜¾è‘—æå‡
- ä½¿ç”¨ `return_exceptions=True` çš„å¥å£®é”™è¯¯å¤„ç†

#### 4. å¯é…ç½®çš„é¡µé¢åˆ†éš”ç¬¦
```bash
export DS_OCR_PAGE_SEPARATOR="\n\n---\n\n"  # é»˜è®¤å€¼
```

### ğŸ› Bug ä¿®å¤

- ä¿®å¤äº† PDF å¤„ç†åªèƒ½å¤„ç†ç¬¬ä¸€é¡µçš„é™åˆ¶

### ğŸ“ æ–‡æ¡£

- README ä¸­æ–°å¢è¯¦ç»†çš„å¤šé¡µ PDF ä½¿ç”¨ç¤ºä¾‹
- åˆ›å»º CHANGELOG.md è®°å½•æ‰€æœ‰å˜æ›´
- æ›´æ–° API æ–‡æ¡£,æ·»åŠ ç ´åæ€§å˜æ›´è­¦å‘Š

### ğŸ§ª æµ‹è¯•

- æ–°å¢ 19 ä¸ªå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- æ€»æµ‹è¯•è¦†ç›–: 28 ä¸ªæµ‹è¯•,å…¨éƒ¨é€šè¿‡
- æµ‹è¯•è¦†ç›–è¾¹ç¼˜æƒ…å†µ:è´Ÿæ•°é¡µç ã€é›¶ã€ç©ºåˆ—è¡¨ã€è¶…å‡ºèŒƒå›´ç­‰

### ğŸ“¦ å®‰è£…

```bash
# ä½¿ç”¨ pip
pip install --upgrade deepseek-ocr

# ä½¿ç”¨ uv(æ¨è)
uv add deepseek-ocr
```

### ğŸ”— ç›¸å…³é“¾æ¥

- **PyPI**: https://pypi.org/project/deepseek-ocr/0.2.0/
- **æ–‡æ¡£**: https://github.com/BukeLy/DeepSeek-OCR-SDK#readme
- **CHANGELOG**: https://github.com/BukeLy/DeepSeek-OCR-SDK/blob/main/CHANGELOG.md
- **Issue #1**: https://github.com/BukeLy/DeepSeek-OCR-SDK/issues/1
- **PR #3**: https://github.com/BukeLy/DeepSeek-OCR-SDK/pull/3

---

**Full Changelog**: https://github.com/BukeLy/DeepSeek-OCR-SDK/compare/v0.1.1...v0.2.0
